---
import Layout from "../../layouts/BaseLayout.astro";

// 1) SSG 動態路由必需：告訴 Astro 要產哪些 /node/[id]
export function getStaticPaths() {
  return [
    { params: { id: "test" } },
    // 之後你要加 node，就在這裡先加 stub（Day 7 再接 schema/collections）
    // { params: { id: "node-1" } },
  ];
}

// 2) 從 params 取 id
const { id } = Astro.params;

// 3) 暫時 mock data（Day 7 才接 Schema）
const node = {
  title: `Node: ${id}`,
  objective: "定義此節點的核心目標。",
  knowledge: ["關鍵概念一", "關鍵概念二", "常見誤解"],
  practice: "完成一個最小可行練習。",
  dod: ["可以清楚說明核心概念", "完成練習", "產出可驗證成果"],
  evidence: "TBD",
};
---

<Layout>
  <h1>{node.title}</h1>

  <section>
    <h2>Objective</h2>
    <p>{node.objective}</p>
  </section>

  <section>
    <h2>Knowledge</h2>
    <ul>
      {node.knowledge.map((item) => (
        <li>{item}</li>
      ))}
    </ul>
  </section>

  <section>
    <h2>Practice</h2>
    <p>{node.practice}</p>
  </section>

  <section>
    <h2>DoD</h2>
    <ul>
      {node.dod.map((item) => (
        <li>{item}</li>
      ))}
    </ul>
  </section>

  <section>
    <h2>Evidence</h2>
    <p>{node.evidence}</p>
  </section>
</Layout>